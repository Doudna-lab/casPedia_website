
# Database login instructions
username: "bellieny"
hostname: "localhost"
database_name: "caspedia"
port: 5432

# ********* GLOBAL CONFIGURATION *********
# Master table
source_metadata_path: ['2023_03_28_Cas_family_tree_Naming.csv']
# Wiki manifest containing URL for each and every wiki intake forms
wiki_manifest_path: "background_data/wiki_manifest.csv"

# DOI Internal database information
doi_table_name: 'doi_citation'

# Column in the main database that contains unique protein identifiers
unique_id_col: "Type Protein"

# ********* TOOL FINDER CONFIGURATION *********
# Translates the options available in the tool finder HTML to
#  column names found in the PSQL database
match_question_to_db:
  "target_type": "Nuclease_Activity"
  "trans_activity": "Nuclease_Activity"
  "targeting_requirement": "Targeting_Requirement"
  "multiplex": "gRNA_Design_and_Multiplexability"

wildcard_search: "Any"

tool_finder_sections:
  - target_type:
      separator: "+"
      field: 0
      format: '<option value="{{ target_type }}">{{ target_type }}</option>'
  - trans_activity:
      separator: "+"
      field: 1
      format: '<option value="{{ trans_activity }}">{{ trans_activity }}</option>'
  - targeting_requirement:
      separator: ""
      field: 0
      format: '<option value="{{ targeting_requirement }}">{{ targeting_requirement }}</option>'
  - multiplex:
      separator: ""
      field: 0
      format: '<option value="{{ multiplex }}">{{ multiplex }}</option>'

# ********* MASTER TABLE CONFIGURATION *********
# In-Database names of source tables
metadata_file_tags: ['master']
schema: "root"
# Main database table for user input search
default_search_table: "master"
# Column in the master table that contains the CAS ID
cas_id_col: "Number"
# Column in the master table that contains aa sequence
master_sequence_col: "Protein sequence"
# The column names for the newly imported master table in the PSQL wiki schemas
master_to_wiki_col_names: ["Property", "Info"]
# CasID name order
cas_id_order: ['Nuclease Activity', 'Targeting Requirement', 'Multiplexability']

# ********* WIKI CONFIGURATION *********
# The master table is sliced and formatted as an additional table in
#  the Wiki schemas. This is the table name to be used in this import
master_to_wiki_handle: "Classification"
# These are columns that will be imported in the process mentioned above
#   with their respective renaming instructions
master_to_wiki_col_format:
  "Number": "Cas ID"
  "Nuclease_Activity": "Nuclease Activity"
  "Targeting_Requirement": "Targeting Requirement"
  "gRNA_Design_and_Multiplexability": "gRNA Design and Multiplexability"
  "Class_II_Subtype": "Class II subtype"

# Column name in the wiki forms that denotes raw fasta sequences
wiki_sequence_col_name: "Sequence"
# Path where raw FASTA files will be stored
raw_fasta_path: "/static/fasta/"

# Wiki Pickle Directory path
pickles_path: "static/pkl"
# Wiki page formatting
wiki_template_path: "wiki_template.html"
# Wiki Sheets manifest
links_column: "Curation_Link"
wiki_schema_prefix: "wiki"
#

# Wiki association of table names between PSQL and intake forms
wiki_sections:
  - classification:
      tbl_name: "Classification"
      format: '<li><span style="color: #5758ff;font-weight: bold;">{{ Property }} </span>{{ Info }}</li>'
      n_of_index_cols: 1
  - classification_sprites:
      tbl_name: "Classification_CasID_Sprites"
      format: |
        <img title="{{ Property }}" class="casID_sprite" src="/static/img/cas_id_sprites/{{ Info }}">
      n_of_index_cols: 1
  - properties:
      tbl_name: "Properties"
      format: '<li><span style="color: #5758ff;font-weight: bold;">{{ Property }} </span>{{ Info }} {{ Citations }}</li>'
      n_of_index_cols: 1
  - resources:
      tbl_name: "Resources"
      format: '<li><span style="color: #5758ff;font-weight: bold;">{{ Resource }} </span>{{ Value }}</li>'
      n_of_index_cols: 1
  - sequences:
      tbl_name: "Sequences"
      format: '<li><span style="color: #5758ff;font-weight: bold;">{{ Property }} </span>{{ Link_FASTA }} {{ Citation }}</li>'
      n_of_index_cols: 1
  - text_summaries:
      tbl_name: "Text_Summaries"
      format: '<h3 class="section-header">{{ SECTION }}</h3>
    <p class="section-content">{{ CONTENT }}</p>'
      n_of_index_cols: 1
  - exp_details:
      tbl_name: "Experimental_Details"
      format: '<h5>{{ Tool_Type }}</h5>
              <ul>
                <li class="ul-ul"> Tool: {{ Tool }}</li>
                <li class="ul-ul"> Is the tool applicable: {{ Is_Tool_Applicable }}</li>
                <li class="ul-ul"> Notes: {{ Notes }} {{ Citation }}</li>
              </ul>'
      n_of_index_cols: 2
  - gene_editing_human:
      tbl_name: "Gene_Editing_Examples"
      format: '<h5>{{ Application_Type }}</h5>
               <ul>
                 <li class="ul-ul"> <i>In vivo</i> or <i>Ex vivo</i> Editing: <i>{{ In_Vivo_or_Ex_Vivo_Editing }}</i></li>
                 <li class="ul-ul"> Pharmaceutical or Product Name: {{ Pharmaceutical_or_Product_Name }}</li>
                 <li class="ul-ul"> NCT: {{ NCT }}</li>
                 <li class="ul-ul"> Responsible Party: {{ Responsible_Party }}</li>
                 <li class="ul-ul"> Description:</li>
                 <span>{{ Description }} {{ Citation_or_Publications }}</span>
             </ul>'
      n_of_index_cols: 1
  - gene_editing:
      tbl_name: "Gene_Editing_Examples"
      format: '<h5>{{ Application_Type }}</h5>
                 <ul>
                   <li class="ul-ul"> Description:</li>
                   <span>{{ Description }} {{ Citation_or_Publications }}</span>
                 </ul>'
      n_of_index_cols: 1
  - tools:
      tbl_name: "Tools_And_Diagnostics"
      format: '<h5>{{ Tool_Type }}</h5>
              <ul>
                  <li><span>{{ Tool_Name }}</span></li>
                <ul>
                  <li class="ul-ul"> Description:</li>
                  <span>{{ Description }} {{ Citation }}</span>
                </ul>
              </ul>'
      n_of_index_cols: 1
  - variants:
      tbl_name: "Engineered_Variants"
      format: '<h5>{{ Variant_Name }}</h5>
              <ul>
                <li class="ul-ul"> Description:</li>
                <span>{{ Description }}</span>
              </ul>'
      n_of_index_cols: 1
  - structure:
      tbl_name: "Structural"
      format: '<li><span style="color: #5758ff;font-weight: bold;">{{ Resource }}</span><a href="{{ Link }}" target="_blank"> {{ Value }}</a></li>'
      n_of_index_cols: 0
references:
  format: '<ul>
  <li class="ul-ul">{{ Reference }}</li>
  </ul>'
  n_of_index_cols: 1
